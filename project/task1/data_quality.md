1. Оценка качества данных
Данные в схеме production обладают высокой степенью целостности и чистоты, необходимой для построения RFM-витрины. Основные показатели:

    Полнота (Completeness): Критически важные поля для анализа (идентификаторы пользователей, даты заказов, суммы и статусы) не содержат NULL значений.
    Актуальность (Timeliness): В таблицах присутствуют данные за 2022 год, что соответствует требованиям бизнеса.
    Согласованность (Consistency): Связи между заказами и пользователями корректны, отсутствуют «заказы-сироты» без привязки к клиенту.

2. Инструменты обеспечения качества данных (Constraints)
В схеме production используются следующие инструменты PostgreSQL для обеспечения качества:

    Primary Keys (P): У каждой таблицы есть первичный ключ (orders_pkey, users_pkey и т.д.). Это гарантирует отсутствие полных дублей записей и уникальность идентификаторов.
    Foreign Keys (F):
        Реализована ссылочная целостность между позициями заказа и самими заказами (orderitems_order_id_fkey), а также продуктами (orderitems_product_id_fkey).
        Важное наблюдение: Логирование статусов (orderstatuslog) связано и с заказами, и со справочником статусов. Однако, как было замечено ранее, прямой связи orders -> orderstatuses нет, что является потенциальной зоной риска.
    Check Constraints (C): Это самые мощные инструменты качества в данном проекте:
        Финансовая точность: orders_check гарантирует, что итоговая стоимость заказа (cost) всегда равна сумме оплаты деньгами и бонусами.
        Логика цен: products_price_check и orderitems_price_check запрещают отрицательные цены.
        Логика скидок: orderitems_check следит, чтобы скидка не была отрицательной и не превышала цену товара.
        Логика количества: orderitems_quantity_check гарантирует, что в заказе не может быть 0 или меньше товаров.
    Unique Constraints (U):
        Ограничение orderitems_order_id_product_id_key запрещает добавлять один и тот же товар в один и тот же заказ дважды (вместо этого должно увеличиваться поле quantity).
3. Проверка git